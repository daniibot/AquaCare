<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contagem - AquaCare</title>
    <link rel="icon" href="Imagens/Logo.png" type="image/x-icon"> 

    <!-- Fuente de Google -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400&display=swap" rel="stylesheet">
    <!-- Íconos de Google Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f0f8ff; /* Fondo celeste claro */
            margin: 0;
            padding: 0;
            color: #333;
        }

        header {
            background-color: #1e90ff; /* Azul para el header */
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        header img {
            height: 40px; /* Tamaño del logo */
        }

        header h1 {
            margin: 0;
            font-size: 24px;
            color: white;
            display: inline-block;
            margin-left: 10px; /* Espacio entre logo y nombre */
        }

        .search-bar {
            flex-grow: 1;
            text-align: center;
        }

        .search-bar input {
            width: 50%;
            padding: 10px;
            border-radius: 20px;
            border: 1px solid #ddd;
        }

        .profile {
            display: flex;
            align-items: center;
        }

        .profile img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }

        .three-dots {
            font-size: 24px;
            cursor: pointer;
        }

        /* Estilo para la barra de íconos */
        .icon-bar {
            display: flex;
            align-items: center;
        }

        .icon-bar a {
            color: white; /* Color de los íconos */
            text-decoration: none; /* Quitar subrayado */
            margin: 0 10px; /* Espaciado entre íconos */
        }

        /* Estilo para el contenedor principal */
        .container {
            text-align: center;
            padding: 20px;
        }

        /* Recuadro para la contagem */
        .countdown-box {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px auto;
            width: 300px;
            text-align: center;
            font-size: 20px;
            color: #333; /* Texto en color oscuro */
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }

        /* Estilo del cronómetro */
        .stopwatch {
            background-color: #1e90ff; /* Azul */
            color: white; /* Texto blanco */
            border-radius: 10px;
            padding: 15px;
            margin: 20px auto;
            width: 200px;
            font-size: 18px;
            text-align: center;
        }

        /* Texto de agua disponible */
        .available-water {
            font-size: 18px;
            color: black;
            margin: 15px 0;
        }

        /* Barra de progreso */
        .progress-bar {
            background-color: #87CEEB; /* Celeste */
            border-radius: 5px;
            height: 20px;
            width: 100%; /* Ancho completo */
            margin: 10px auto;
            position: relative;
            overflow: hidden; /* Ocultar contenido fuera de la barra */
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }

        /* Estilo de la barra de agua */
        .water-level {
            background-color: #1e90ff; /* Azul */
            height: 100%;
            width: 100%; /* Comienza al 100% */
            transition: width 1s linear; /* Transición suave */
        }

        /* Recuadro para elegir minutos */
        .minute-selector {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            margin: 20px auto;
            width: 250px;
            text-align: center;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }

        .minute-selector input {
            width: 50px; /* Ancho del campo de entrada */
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ddd;
            text-align: center;
            margin-top: 10px; /* Espacio entre el texto y el campo de entrada */
        }

        /* Botones para iniciar y pausar el cronómetro */
        .start-button, .pause-button {
            background-color: #1e90ff; /* Azul */
            color: white; /* Texto blanco */
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 10px;
        }

        .start-button:hover, .pause-button:hover {
            background-color: #0a74da; /* Color más oscuro al pasar el ratón */
        }
        .logo-container {
          text-decoration: none; /* Quita el subrayado */
          color: inherit; /* Mantiene el color del texto */
         }
    </style>
</head>
<body>

    <header>
        <a href="home.html" class="logo-container" style="display: flex; align-items: center;">
            <img src="Imagens/Logo.png" alt="Logo AquaCare">
            <h1>AquaCare</h1>
        </a>
        

        <div class="search-bar">
            <input type="text" placeholder="Pesquisar...">
        </div>

        <!-- Barra de íconos a la izquierda del perfil -->
        <div class="icon-bar">
            <a href="calendario.html">
                <span class="material-icons">calendar_today</span>
            </a>
            <a href="relogio.html">
                <span class="material-icons">alarm</span>
            </a>
            <a href="pontos.html"> <!-- Redirección a perfil.html -->
                <span class="material-icons">settings</span>
            </a>
        </div>

        <div class="profile">
            <a href="perfil.html">
                <img id="profileImage" src="Imagens/profile-placeholder.png" alt="Imagem do Usuário">
                <div class="three-dots">⋮</div>
            </a>
        </div>
    </header>
    
    <script>
        // Função para carregar a imagem do perfil guardada
        function loadProfileImage() {
            const profileImage = document.getElementById('profileImage');
            const savedImage = localStorage.getItem('profileImage');
            if (savedImage) {
                profileImage.src = savedImage;
            }
        }
    
        // Carregar a imagem do perfil quando a página for carregada
        window.onload = loadProfileImage;
    </script>
    <div class="container">
        <div class="countdown-box">
            Comece a enxaguar a louça
        </div>

        <!-- Cronómetro -->
        <div class="stopwatch" id="stopwatch">
            Iniciar
        </div>

        <!-- Texto de agua disponível -->
        <div class="available-water">
            Água disponível
        </div>

        <!-- Barra de progresso -->
        <div class="progress-bar">
            <div class="water-level" id="water-level"></div>
        </div>

        <!-- Selector de minutos -->
        <div class="minute-selector">
            <label for="minutes">Minutos:</label>
            <input type="number" id="minutes" min="1" max="120" value="1"> <!-- Campo para elegir minutos -->
            <button class="start-button" id="start-button">Iniciar</button>
            <button class="pause-button" id="pause-button">Pausar</button>
        </div>
    </div>

    <script>
        // Obtener elementos
        const minutesInput = document.getElementById('minutes');
        const stopwatchDisplay = document.getElementById('stopwatch');
        const startButton = document.getElementById('start-button');
        const pauseButton = document.getElementById('pause-button');
        const waterLevel = document.getElementById('water-level');

        let countdownInterval;
        let totalTime; // Total de tiempo en segundos
        let timeLeft; // Tiempo restante

        startButton.addEventListener('click', () => {
            const minutes = parseInt(minutesInput.value);
            if (isNaN(minutes) || minutes <= 0) {
                alert('Por favor, digite um número válido de minutos.');
                return;
            }

            // Inicializa el cronómetro
            totalTime = minutes * 60; // Convertir minutos a segundos
            timeLeft = totalTime; // Establecer el tiempo restante
            updateWaterLevel(); // Establecer la barra de agua

            stopwatchDisplay.textContent = `Restante: ${minutes} min`;
            clearInterval(countdownInterval);

            countdownInterval = setInterval(() => {
                timeLeft--;

                const remainingMinutes = Math.floor(timeLeft / 60);
                const remainingSeconds = timeLeft % 60;
                stopwatchDisplay.textContent = `Restante: ${remainingMinutes} min ${remainingSeconds < 10 ? '0' : ''}${remainingSeconds} s`;

                // Actualizar barra de agua
                updateWaterLevel();

                // Si el tiempo se ha agotado
                if (timeLeft <= 0) {
                    clearInterval(countdownInterval);
                    stopwatchDisplay.textContent = 'ALERTA! Pare de lavar a louça agora!';
                    waterLevel.style.width = '0%'; // La barra de agua se vacía
                }
            }, 1000);
        });

        // Función para actualizar la barra de agua
        function updateWaterLevel() {
            const percentage = (timeLeft / totalTime) * 100; // Calcular porcentaje restante
            waterLevel.style.width = percentage + '%'; // Ajustar el ancho de la barra de agua
        }

        pauseButton.addEventListener('click', () => {
            if (countdownInterval) {
                clearInterval(countdownInterval);
                countdownInterval = null; // Detener el cronómetro
                stopwatchDisplay.textContent += ' (Pausado)'; // Indicar que está pausado
            } else {
                startButton.click(); // Si está pausado, reiniciar
            }
        });
    </script>
</body>
</html>
